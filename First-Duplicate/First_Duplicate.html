<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>First Duplicate</title>
</head>
<body>
    <script>
        function firstDuplicate(a) {
    var duplicate = [];
    for ( i = 0; i <= a.length ; i ++){
        for (j = i + 1; j <= a.length; j++){
            if (a[i] === a[j] && duplicate.indexOf(a[i]) === -1) {
                var last_dup = duplicate[duplicate.length -1 ];
                if (a.indexOf(last_dup, a.indexOf(last_dup) + 1) > a.indexOf(a[j], a.indexOf(a[j]) + 1))
                    duplicate.push(a[i]);
                    else break;
                }
                else{
                    duplicate.push(a[i]);
                }
            }
        }
        return duplicate[duplicate.length - 1] || -1;
    }

    var a = [2, 1, 3, 4, 2,4, 3];
    
    console.log(firstDuplicate(a));
    </script>
</body>
</html>